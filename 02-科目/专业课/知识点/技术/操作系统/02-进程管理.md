---
title: 进程管理
subject: 专业课843
chapter: 操作系统
status: 未开始
created: 2026-02-27
tags: [知识点, 843, 操作系统, 进程]
---

# 进程管理 ⭐⭐⭐⭐

---

## 进程基本概念

| 概念 | 说明 |
|------|------|
| 进程 | 程序的一次执行过程，OS资源分配的基本单位 |
| 线程 | 进程内的执行流，CPU调度的基本单位 |
| PCB | 进程控制块，OS描述和控制进程的数据结构 |

**进程 vs 线程核心区别：**

| 维度 | 进程 | 线程 |
|------|------|------|
| 资源 | 独立地址空间 | 共享进程资源 |
| 开销 | 创建/切换开销大 | 开销小 |
| 通信 | 需要IPC机制 | 直接读写共享内存 |
| 崩溃影响 | 不影响其他进程 | 一个线程崩溃可能影响整个进程 |

---

## 进程状态转换

```
          就绪(Ready)
         ↗           ↘
新建 → 就绪队列   调度   运行(Running) → 终止
                         ↕  (I/O等待、信号量等)
                       阻塞(Blocked)
```

| 转换 | 触发原因 |
|------|---------|
| 就绪 → 运行 | 调度程序选中（dispatch）|
| 运行 → 就绪 | 时间片用完或高优先级进程到来 |
| 运行 → 阻塞 | 等待I/O、P操作阻塞、等待信号 |
| 阻塞 → 就绪 | I/O完成、V操作唤醒 |

---

## 进程调度算法

### 非抢占式

| 算法 | 策略 | 缺点 |
|------|------|------|
| FCFS（先来先服务） | 按到达时间排队 | 护航效应：长作业阻塞短作业 |
| SJF（短作业优先） | 选最短CPU burst | 可能**饥饿**（长作业永远等待）|

### 抢占式

| 算法 | 策略 | 特点 |
|------|------|------|
| 时间片轮转 (RR) | 每个进程分配固定时间片 | 公平，响应时间有保证 |
| 优先级调度 | 按优先级选进程 | 可能饥饿，用**老化**解决 |
| SRTF | SJF的抢占版 | 剩余时间最短的优先 |

### 评价指标

- **CPU利用率**：CPU工作时间/总时间
- **吞吐量**：单位时间完成的进程数
- **周转时间** = 完成时间 - 到达时间
- **等待时间** = 周转时间 - CPU运行时间
- **响应时间**：从提交到第一次响应的时间

---

## 进程同步与互斥

### 临界区问题

多进程访问**共享资源**时需要互斥：

```
进入区（申请进入临界区）
    ↓
临界区（访问共享资源）
    ↓
退出区（释放临界区）
    ↓
剩余区
```

**临界区的三个要求：**
1. **互斥**：同一时刻只有一个进程在临界区
2. **前进**：临界区无进程时，等待进程能进入
3. **有限等待**：不能无限期等待

### 信号量（Semaphore）

```
P(S)操作（wait）：  S--；若S<0则阻塞进程
V(S)操作（signal）：S++；若S≤0则唤醒一个阻塞进程
```

**互斥信号量**：初值为1（mutex = 1）

**同步信号量**：初值为0（表示资源数量）

### 经典同步问题

**生产者-消费者：**
```
mutex = 1（互斥访问缓冲区）
empty = N（空槽数量，初值=缓冲区大小）
full  = 0（满槽数量）

生产者：P(empty) → P(mutex) → 放入 → V(mutex) → V(full)
消费者：P(full)  → P(mutex) → 取出 → V(mutex) → V(empty)
```

> ⚠️ P操作顺序必须：**资源信号量在外，互斥信号量在内**，否则死锁

---

## 相关链接

- [[02-科目/专业课/知识点/技术/操作系统/01-操作系统基础|操作系统基础（总览）]]
- [[02-科目/专业课/知识点/技术/操作系统/03-内存管理|内存管理]]
- [[02-科目/专业课/知识点/技术/操作系统/04-死锁|死锁]]
- [[02-科目/专业课/错题/错题汇总|错题汇总]]
